---
source: tests/snapshot_tests.rs
---
Program(
  statements: [
    Function(FunctionStatement(
      name: Token(
        kind: Identifier("fibonacci"),
        location: Location(
          start: Position(
            line: 1,
            column: 9,
          ),
          end: Position(
            line: 1,
            column: 18,
          ),
          rage_start: 9,
          rage_end: 18,
        ),
      ),
      local: false,
      arguments: [
        (Token(
          kind: Identifier("n"),
          location: Location(
            start: Position(
              line: 1,
              column: 19,
            ),
            end: Position(
              line: 1,
              column: 20,
            ),
            rage_start: 19,
            rage_end: 20,
          ),
        ), Some(Number)),
      ],
      return_type: Some(Number),
      body: Block(BlockStatement(
        statements: [
          If(IfStatement(
            condition: Binary(BinaryExpression(
              operator: Add,
              left: Identifier(Identifier(
                name: "n",
                location: Location(
                  start: Position(
                    line: 2,
                    column: 7,
                  ),
                  end: Position(
                    line: 2,
                    column: 8,
                  ),
                  rage_start: 45,
                  rage_end: 46,
                ),
              )),
              right: Literal(Number(NumberLiteral(
                value: "1",
                location: Location(
                  start: Position(
                    line: 2,
                    column: 11,
                  ),
                  end: Position(
                    line: 2,
                    column: 12,
                  ),
                  rage_start: 49,
                  rage_end: 50,
                ),
              ))),
              location: Location(
                start: Position(
                  line: 2,
                  column: 9,
                ),
                end: Position(
                  line: 2,
                  column: 10,
                ),
                rage_start: 47,
                rage_end: 48,
              ),
            )),
            then_body: Block(BlockStatement(
              statements: [
                Return(ReturnStatement(
                  values: [
                    Identifier(Identifier(
                      name: "n",
                      location: Location(
                        start: Position(
                          line: 3,
                          column: 15,
                        ),
                        end: Position(
                          line: 3,
                          column: 16,
                        ),
                        rage_start: 71,
                        rage_end: 72,
                      ),
                    )),
                  ],
                  location: Location(
                    start: Position(
                      line: 3,
                      column: 8,
                    ),
                    end: Position(
                      line: 3,
                      column: 14,
                    ),
                    rage_start: 64,
                    rage_end: 70,
                  ),
                )),
              ],
              location: Location(
                start: Position(
                  line: 3,
                  column: 8,
                ),
                end: Position(
                  line: 3,
                  column: 14,
                ),
                rage_start: 64,
                rage_end: 70,
              ),
            )),
            else_body: None,
            location: Location(
              start: Position(
                line: 2,
                column: 4,
              ),
              end: Position(
                line: 2,
                column: 6,
              ),
              rage_start: 42,
              rage_end: 44,
            ),
          )),
          Return(ReturnStatement(
            values: [
              Call(CallExpression(
                name: Token(
                  kind: Identifier("fibonacci"),
                  location: Location(
                    start: Position(
                      line: 5,
                      column: 11,
                    ),
                    end: Position(
                      line: 5,
                      column: 20,
                    ),
                    rage_start: 92,
                    rage_end: 101,
                  ),
                ),
                args: Binary(BinaryExpression(
                  operator: Add,
                  left: Grouped(GroupedExpression(
                    expressions: [
                      Binary(BinaryExpression(
                        operator: Subtract,
                        left: Identifier(Identifier(
                          name: "n",
                          location: Location(
                            start: Position(
                              line: 5,
                              column: 21,
                            ),
                            end: Position(
                              line: 5,
                              column: 22,
                            ),
                            rage_start: 102,
                            rage_end: 103,
                          ),
                        )),
                        right: Literal(Number(NumberLiteral(
                          value: "1",
                          location: Location(
                            start: Position(
                              line: 5,
                              column: 25,
                            ),
                            end: Position(
                              line: 5,
                              column: 26,
                            ),
                            rage_start: 106,
                            rage_end: 107,
                          ),
                        ))),
                        location: Location(
                          start: Position(
                            line: 5,
                            column: 23,
                          ),
                          end: Position(
                            line: 5,
                            column: 24,
                          ),
                          rage_start: 104,
                          rage_end: 105,
                        ),
                      )),
                    ],
                    location: Location(
                      start: Position(
                        line: 5,
                        column: 20,
                      ),
                      end: Position(
                        line: 5,
                        column: 27,
                      ),
                      rage_start: 101,
                      rage_end: 108,
                    ),
                  )),
                  right: Call(CallExpression(
                    name: Token(
                      kind: Identifier("fibonacci"),
                      location: Location(
                        start: Position(
                          line: 5,
                          column: 30,
                        ),
                        end: Position(
                          line: 5,
                          column: 39,
                        ),
                        rage_start: 111,
                        rage_end: 120,
                      ),
                    ),
                    args: Grouped(GroupedExpression(
                      expressions: [
                        Binary(BinaryExpression(
                          operator: Subtract,
                          left: Identifier(Identifier(
                            name: "n",
                            location: Location(
                              start: Position(
                                line: 5,
                                column: 40,
                              ),
                              end: Position(
                                line: 5,
                                column: 41,
                              ),
                              rage_start: 121,
                              rage_end: 122,
                            ),
                          )),
                          right: Literal(Number(NumberLiteral(
                            value: "2",
                            location: Location(
                              start: Position(
                                line: 5,
                                column: 44,
                              ),
                              end: Position(
                                line: 5,
                                column: 45,
                              ),
                              rage_start: 125,
                              rage_end: 126,
                            ),
                          ))),
                          location: Location(
                            start: Position(
                              line: 5,
                              column: 42,
                            ),
                            end: Position(
                              line: 5,
                              column: 43,
                            ),
                            rage_start: 123,
                            rage_end: 124,
                          ),
                        )),
                      ],
                      location: Location(
                        start: Position(
                          line: 5,
                          column: 39,
                        ),
                        end: Position(
                          line: 5,
                          column: 46,
                        ),
                        rage_start: 120,
                        rage_end: 127,
                      ),
                    )),
                    location: Location(
                      start: Position(
                        line: 5,
                        column: 30,
                      ),
                      end: Position(
                        line: 5,
                        column: 39,
                      ),
                      rage_start: 111,
                      rage_end: 120,
                    ),
                  )),
                  location: Location(
                    start: Position(
                      line: 5,
                      column: 28,
                    ),
                    end: Position(
                      line: 5,
                      column: 29,
                    ),
                    rage_start: 109,
                    rage_end: 110,
                  ),
                )),
                location: Location(
                  start: Position(
                    line: 5,
                    column: 11,
                  ),
                  end: Position(
                    line: 5,
                    column: 20,
                  ),
                  rage_start: 92,
                  rage_end: 101,
                ),
              )),
            ],
            location: Location(
              start: Position(
                line: 5,
                column: 4,
              ),
              end: Position(
                line: 5,
                column: 10,
              ),
              rage_start: 85,
              rage_end: 91,
            ),
          )),
        ],
        location: Location(
          start: Position(
            line: 2,
            column: 4,
          ),
          end: Position(
            line: 2,
            column: 6,
          ),
          rage_start: 42,
          rage_end: 44,
        ),
      )),
      location: Location(
        start: Position(
          line: 1,
          column: 9,
        ),
        end: Position(
          line: 1,
          column: 18,
        ),
        rage_start: 9,
        rage_end: 18,
      ),
    )),
  ],
)
